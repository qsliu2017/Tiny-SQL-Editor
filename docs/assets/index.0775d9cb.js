import{d as f,o as s,c as o,a as i,t as v,F as p,r as _,b as y,w as h,e as m,f as E,E as g,g as S,h as x,s as q,S as b,i as L,u as w,j as N}from"./vendor.9d1f3c8e.js";const O=function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))u(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&u(c)}).observe(document,{childList:!0,subtree:!0});function n(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerpolicy&&(r.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?r.credentials="include":e.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function u(e){if(e.ep)return;e.ep=!0;const r=n(e);fetch(e.href,r)}};O();var k=(t,l)=>{const n=t.__vccOpts||t;for(const[u,e]of l)n[u]=e;return n};const A={key:0,class:"error"},C={key:1},R=f({props:{result:null},setup(t){const l=e=>e instanceof Error,n=e=>e,u=e=>e;return(e,r)=>l(t.result)?(s(),o("div",A,[i("p",null,v(n(t.result).message),1)])):(s(),o("div",C,[(s(!0),o(p,null,_(u(t.result),c=>(s(),o("table",null,[i("thead",null,[i("tr",null,[(s(!0),o(p,null,_(c.columns,a=>(s(),o("td",null,v(a),1))),256))])]),i("tbody",null,[(s(!0),o(p,null,_(c.values,a=>(s(),o("tr",null,[(s(!0),o(p,null,_(a,d=>(s(),o("td",null,v(d),1))),256))]))),256))])]))),256))]))}});var T=k(R,[["__scopeId","data-v-4286e5da"]]);const B=f({props:{sqlExecutor:null},setup(t){const l=t,n=y();let u;const e={beforeMount(a){u=new g({state:S.create({extensions:[x,q({dialect:b,upperCaseKeywords:!0})],doc:`CREATE TABLE hello (a int, b char);
INSERT INTO hello VALUES (0, 'hello');
INSERT INTO hello VALUES (1, 'world');
SELECT * FROM hello;`}),parent:a})}},r=()=>u.state.doc.toJSON().reduce((a,d)=>a+d,""),c=()=>{n.value=l.sqlExecutor(r())};return(a,d)=>(s(),o("div",null,[h(i("div",null,null,512),[[e,!0]]),i("button",{onClick:c},"Execute"),n.value?(s(),m(T,{key:0,result:n.value},null,8,["result"])):E("",!0)]))}}),I=await L({locateFile:t=>`https://sql.js.org/dist/${t}`}),V=new I.Database,F=t=>{try{return V.exec(t)}catch(l){return l}};const j=f({setup(t){return(l,n)=>(s(),m(B,{"sql-executor":w(F)},null,8,["sql-executor"]))}});N(j).mount("#app");
